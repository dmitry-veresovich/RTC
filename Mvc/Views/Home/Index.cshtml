@using Rtc.BllInterface.Entities

@if (User.Identity.IsAuthenticated)
{
    ViewBag.Title = "Welcome to RTChat";

    var user = (UserEntity)ViewBag.User;

    <div class="row" ng-app="app">
        <div class="col-md-3">
            @Html.Partial("_FriendsBar")
        </div>
        <div class="col-md-9" id="chattingTo">
            @Html.Partial("_ChatStartPage")
        </div>
    </div>

    @section scripts
    {
        @Scripts.Render("~/bundles/angular")
        @Scripts.Render("~/bundles/signalR")
        <script src="~/signalr/hubs"></script>
        @Scripts.Render("~/bundles/chat")
    }
}
else
{
    ViewBag.Title = "Log in to RTChat";

    <div id="logInPartial">
        @Html.Partial("_LogIn")
    </div>
    <div id="signUpPartial" style="display: none">
        @Html.Partial("_SignUp")
    </div>

    @section scripts
    {
        @Scripts.Render("~/bundles/jqueryval")
        @Scripts.Render("~/bundles/account")
    }
}
